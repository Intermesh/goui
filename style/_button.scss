@use 'sass:math';

.goui-button  {
	color: inherit;
	background-color: transparent;
	border: $borderWidth solid transparent;
	border-radius: dp(12);
	padding: dp(11) dp(18); //padding 11 because line height is 24 instead of 22
	display: flex;
	align-items: center;

	&.with-icon:not(.with-text) {
		//icon only
		padding: dp(11);
	}

	&.with-text {
		i.icon {
			margin-right: dp(8);
		}
	}

	.text {
		width: 100%;
	}

	position: relative;
	font: $fontBase;
	font-weight: 600;
	line-height: dp(24); //match icon

	&.small {
		transform: scale(.8);
	}


	&:hover {
		background-color: $colorHover;
		outline: none;
	}

	&.pressed {
		box-shadow: inset -2px -2px -2 $colorBorder; // underline
		background-color: $colorPrimary;
		color: white;
		&:hover {
			filter: brightness(120%);
		}
	}

	//&:active {
	// This had a wierd effect with menu. When holding mouse button it dissappeared
	//	filter: brightness(150%);
	//}

	&.primary {
		color: $colorSecondary;
	}

	&.accent {
		color: $colorAccent;
	}


	&.filled, &[type=submit] {
		background-color: $colorHover;

		&:hover {
			background-color: $colorAccent;
			color: white;
		}

		&.primary, &[type=submit] {
			color: white;
			background-color: $colorSecondary;
			border-color: $colorSecondary;
			&:hover {
				filter: brightness(120%);
			}
		}

		&.accent {
			color: white;
			background-color: $colorAccent;
			border-color: $colorAccent;

			&:hover {
				filter: brightness(120%);
			}
		}
	}

	&.outlined {
		border: $borderWidth solid $colorTextSecondary;

		&:hover {
			color: white;
			background-color: $colorTextSecondary;
		}


		&.primary, &[type=submit] {
			border-color: $colorSecondary;
			color: $colorSecondary;

			&:hover {
				color: white;
				background-color: $colorSecondary;
			}
		}

		&.accent {
			color: $colorAccent;
			border-color: $colorAccent;

			&:hover {
				color: white;
				background-color: $colorAccent;
			}
		}
	}

	&:focus-visible {
		border: $borderWidth solid $colorPrimary;
		@extend .z4;
	}
}
.goui.group {
	position: relative;
	display:flex;
	overflow: hidden;
//	> button {box-shadow: none; border: 1px solid $colorBorder;}
	> * {
		box-shadow: none; border: 1px solid $colorBorder;
		&.active {
			box-shadow: inset 0 1px rgba(black, .08);
			background-color: $colorFocus;
			border-bottom-color:rgba(black, .08);
		}
	}
	&>:not(:first-child) { border-top-left-radius:0; border-bottom-left-radius:0; border-left:0;  }
	&>:not(:last-child) { border-top-right-radius:0; border-bottom-right-radius:0;  }
}

.goui.goui-toolbar {
	@extend .hbox;

	position: relative;// for absolute toolbars inside

	// toolbar inside a toolbar will be an overlay
	> .goui.goui-toolbar {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: var(--bg-body);
	}

	&.search {
		z-index: 1;
	}

	&.multiselect {
		// should be higher than search toolbar
		z-index: 2;
	}

	align-items: center;
	user-select: none;
	-moz-user-select: none;
	-webkit-user-select: none;
	padding: dp(8) dp(16);
	min-height: dp(62);
	margin: 0;
	//removed for htmlfield toolbar inside menu
	//padding-bottom: dp(18);

	> h2 {
		display: block;
		margin: 0;
		color: inherit;
		font-size: sp(22);
		line-height: normal;
		font-weight: normal;
		padding: 0;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
	}

	> h3 {
		display: block;
		margin: 0;
		color: inherit;
		font-size: sp(18);
		line-height: normal;
		font-weight: normal;
		padding: 0;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
	>* {
		margin: 0 dp(12) 0 0;
		&:last-child {
			margin-right: 0;
		}
	}
	//> button {
	//	border: 0;
	//}

	> hr {
		height: dp(24);
		//margin: 0px dp(12) 0px 0;
	}

	.goui-form-field {
		//adjust to match button height. Take off 3px of padding at top and bottom
		align-self: center;
		.hint {
			display: none;
			padding-bottom: 0;
			padding-top:0;
		}

		//input.text {
		//	padding-top: dp(10);
		//	padding-bottom: dp(10);
		//}
		//
		//div.label {
		//	top: math.div($baseLineHeight, 2) + dp(11);
		//}

	}
}
